{
  "AllowedHosts": "*",

  "Serilog": {
    "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File" ],
    "MinimumLevel": {
      "Default": "Warning",
      "Override": {
        "LSPM": "Information"
      }
    },
    "WriteTo": [
      { "Name": "Console" },
      {
        "Name": "File",
        "Args": {
          "path": "Logs/lspm.log",
          "rollingInterval": "Day"
        }
      }
    ],
    "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
    "Properties": {
      "Application": "LSPM"
    }
  },

  "ComponentLaunchSettings": {
    "httpsUrl": "https://*:55005",
    "httpUrl": "http://*:56005"
  },

  "GameServerOptions": [
    {
      "GameId": "b15739de-8d5b-4759-a20c-75389b14ecb8",
      "Path": "/home/projects/gameservers/sea-battle/src/bin/Release/net8.0",
      "ExecutableFile": "SeaBattle.dll",
      "RunTool": "dotnet",
      "Protocol": "https",
      "NeedProtocolPort": false,
      "MaxMatchesOnInstance": 100,
      "MaxInstances": 2,
      "MaxMatchDurationTimeout": 300, // 5 minutes
      "EndpointFormat": "{0}://{1}/{2}/" // 0 - protocol, 1 - ip, 2 - port
    },
    {
      "GameId": "b9d9e5fd-0079-4f45-9347-d09b005ed498",
      "Path": "/home/projects/gameservers/fool/Fool.CardGame/bin/Release/net8.0",
      "ExecutableFile": "Fool.CardGame.dll",
      "RunTool": "dotnet",
      "Protocol": "https",
      "NeedProtocolPort": false,
      "MaxMatchesOnInstance": 2,
      "MaxInstances": 2,
      "MaxMatchDurationTimeout": 300, // 5 minutes
      "EndpointFormat": "{0}://{1}/{2}/" // 0 - protocol, 1 - ip, 2 - port
    },
    {
      "GameId": "e5586b7b-4cc0-490d-8b11-220274e7ce83",
      "Path": "/home/projects/gameservers/test_game/bin/Release/net8.0",
      "ExecutableFile": "test_game.dll",
      "RunTool": "dotnet",
      "Protocol": "https",
      "NeedProtocolPort": false,
      "MaxMatchesOnInstance": 100,
      "MaxInstances": 2,
      "MaxMatchDurationTimeout": 300, // 5 minutes
      "EndpointFormat": "{0}://{1}/{2}/" // 0 - protocol, 1 - ip, 2 - port
    }
  ],

  "EndpointResolvingOptions": {
    "MaxExposePorts": 500,
    "HttpPortStart": 52000,
    "ProtocolPortStart": 22000,
    "LocalIp": "localhost",
    "ExternalIp": "gs1-node.feed78.com",
    "FetchIpApi": "https://api.ipify.org",
    "FetchIpTimeout": 2000 // ms
  },

  "RabbitMq": {
    "namespace": "lspm",
    "retries": 3,
    "retryInterval": 2,
    "username": "admin",
    "password": "@admin@",
    "virtualHost": "/",
    "port": 5674,
    "hostnames": [
      "localhost"
    ],
    "requestTimeout": "00:00:10",
    "publishConfirmTimeout": "00:00:01",
    "recoveryInterval": "00:00:10",
    "persistentDeliveryMode": true,
    "autoCloseConnection": true,
    "automaticRecovery": true,
    "topologyRecovery": true,
    "exchange": {
      "durable": true,
      "autoDelete": false,
      "type": "Topic"
    },
    "queue": {
      "autoDelete": false,
      "durable": true,
      "exclusive": false
    }
  }
}
